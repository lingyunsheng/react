# xss攻击
往web网页里嵌入恶意的客户端脚本，当用户浏览此页面时，脚本就会在用户的浏览器上执行，获取特定的信息，其实就是所有输入的地方都需要验证避免xss。
说白了就是将一段恶意js代码（一般利用在html文件中使用img或者js元素进行），内嵌进了普通web网站中从而实现了web安全攻击。
## 防御
1. 使用XSS Filter
  针对用户提交的内容进行有效验证，只接受规定的内容或长度。
2. HTML实体
  当需要往HTML内插入不信任的内容的时候，需要对内容进行HTML Entity编码。
3. JS编码
  在往JS代码中插入数据的时候，需要对数据进行JS编码，并且只把数据放到使用引号包围起来的值的部分
4. 设置不能在浏览器获取cookie的权限
## 例子
例如一个新浪网站内的评论，通过提交的方式，提交了一段js代码或者html标签，那么别人在查看这个网页的时候就会执行这段代码，从而获取到cookie等信息。
# csrf防御

1. 用户C打开浏览器，访问受信任网站A，输入用户名和密码请求登录网站A；

​       2.在用户信息通过验证后，网站A产生Cookie信息并返回给浏览器，此时用户登录网站A成功，可以正常发送请求到网站A；

​       3. 用户未退出网站A之前，在同一浏览器中，打开一个TAB页访问网站B；

​       4. 网站B接收到用户请求后，返回一些攻击性代码，并发出一个请求要求访问第三方站点A；

5. 浏览器在接收到这些攻击性代码后，根据网站B的请求，在用户不知情的情况下携带Cookie信息，向网站A发出请求。网站A并不知道该请求其实是由B发的，所以会根据用户C的Cookie信息以C的权限处理该请求，导致来自网站B的恶意代码被执行。 

   ​

1. 尽量使用post，限制get
2. 增加token，在请求中放入攻击者所不能伪造的信息，并且该信总不存在于cookie之中，也就是在每次请求的时候，添加一个token参数，在服务器端验证正确性
3. 通过Referer识别.在HTTP头中有一个字段叫Referer，它记录了该HTTP请求的来源地址。在通常情况下，访问一个安全受限的页面的请求都来自于同一个网站。
