js的异步其实是为了解决浏览器单线程问题，而提出的，如果没有异步，那么浏览器在发送请求的时候就会一直卡死在等待服务器response，从而造成资源利用地下的问题。而异步就是为了解决这个问题，而最早应用的异步应该就是ajax里面的回调函数了，但是回调函数依然有问题，那就是如果需要多次应用callback就要在里面一层层的添加回调函数从而而造成回调地狱，又或者是如果在多个ajax执行完成时才能执行下一步，那可能就需要添加许多额外的变量或者判断。而到了es6异步才算是真正的诞生，其实际应该是generate函数、promise函数的应用以及asyn和await的应用了。

对于generate函数其实就是一个函数内，利用yield定义一连串的状态机，然后手动的去执行，也就是用next执行下一个步骤，而next可以传参进去替代原本的yeild的位置。

promise函数可以说是现在应用的最多的一个函数了，我们在平时的开发请求中，也基本会用到它，首先我们知道的是promise其实有3个状态pending、fullified、reject，3种状态，而3种状态的转换是不可逆的，promise的首个状态一般是pending也就是在new Promise的时候传递进去的函数参数所在的状态就是pending，要知道的一个点是从pending到fullified状态其实是需要调用resolve参数的，而如果从pending到reject状态到达的路径有两条，函数内有语法或者数据导致报错，另一条就是手动调用reject，但是我们有一点需要注意的，对于promise的报错是逐渐冒泡的，比如我在promise函数内报错，那这个错误就会一直向下冒泡，经历所有的then直到后续有than的第二个参数或者catch对其进行捕获，如果没有，就会一直抛到最外层形成错误，但是这个错误并不会影响或者停止浏览器执行除这个promise之外的其他代码，其实then和catch都会返回一个promise函数让后续继续执行，而参数就是return的内容。所以我们最好的方式就是我们可以在末尾添加一个catch保证错误是能被我们捕获的，然后再添加一个done告诉别人该函数已经执行完毕，我们知道的一个点就是。其实promise在执行完之后会一直保持现有状态，除非后续有调用，否则只有在关掉页面时才会消除。

而async和await其实可以理解为进阶版的generate，async和await会自动执行，其实就是每一次都会把剩余部分都放到微任务队中等待下次的执行，并且会返回await后的内容。

所以其实promise与async其实都会把后续部分放入到微任务中，而原本的callback其实就是一个宏任务的简易调用。